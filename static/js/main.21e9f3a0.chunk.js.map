{"version":3,"sources":["components/Comment/Comment.module.scss","components/Comments/Comments.module.scss","components/NewsInfo/NewsInfo.module.scss","components/NewsItem/NewsItem.module.scss","slice/newsSlice.js","utils/mapTime.js","components/Time/Time.jsx","components/NewsInfo/NewsInfo.jsx","components/NewsItem/NewsItem.jsx","components/ButtonUpdate/ButtonUpdate.jsx","hocs/withUpdate.jsx","pages/HomePage.jsx","components/Comment/Comment.jsx","components/Comments/Comments.jsx","pages/NewsPage.jsx","App.js","slice/appSlice.js","store.js","api.js","index.js"],"names":["module","exports","slice","createSlice","name","initialState","newsIdList","news","activeNews","comments","reducers","setNewsIdList","state","action","payload","setNewsItem","setActiveNews","setComment","actions","getNewsIdList","dispatch","_","api","a","get","res","data","getItem","id","actionType","callback","deleted","mapTime","timestamp","seconds","Math","floor","Date","interval","Time","time","children","useState","timeAgo","setTimeAgo","useEffect","setInterval","clearInterval","NewsInfo","score","by","className","styles","newsInfo","NewsItem","memo","useDispatch","itemInfo","setItemInfo","title","ListGroup","Item","to","ButtonUpdate","handleUpdate","Button","onClick","withUpdate","Component","withRouter","props","useSelector","itemId","match","params","setData","update","setUpdate","isHandleUpdate","setIsHandleUpdate","alertMessage","setAlertMessage","setCallback","setAction","thank","descendants","timeout","setTimeout","clearTimeout","Header","styled","header","compose","Container","Alert","variant","map","item","Comment","showCommentsTree","setShowCommentsTree","text","Card","card","Title","Body","dangerouslySetInnerHTML","__html","kids","prev","btn","Comments","container","counter","href","url","target","App","style","padding","path","exact","render","initialized","error","setInitialized","setError","axios","baseURL","credentials","origin","interceptors","response","use","err","statusText","createAPI","store","configureStore","reducer","app","appReducer","newsReducer","middleware","getDefaultMiddleware","thunk","extraArgument","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.21e9f3a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Comment_card__B2R2M\",\"btn\":\"Comment_btn__1QWQt\",\"text\":\"Comment_text__1-ryg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Comments_container__2gEP4\",\"counter\":\"Comments_counter__AvQSJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsInfo\":\"NewsInfo_newsInfo__10hh7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"NewsItem_title__2B4D3\"};","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst PAGE_SIZE = 100\r\n\r\nconst initialState = {\r\n  newsIdList: [],\r\n  news: [],\r\n  activeNews: {},\r\n  comments: [],\r\n}\r\n\r\n\r\nconst slice = createSlice({\r\n  name: `news`,\r\n  initialState,\r\n  reducers: {\r\n    setNewsIdList(state, action) {\r\n      state.newsIdList = action.payload\r\n    },\r\n    setNewsItem(state, action) {\r\n      state.news = [action.payload, ...state.news]\r\n    },\r\n    setActiveNews(state, action) {\r\n      state.activeNews = action.payload\r\n    },\r\n    setComment(state, action) {\r\n      state.comments = [...state.comments, action.payload]\r\n    },\r\n  }\r\n})\r\n\r\n\r\nexport const {\r\n  setNewsIdList,\r\n  setNewsItem,\r\n  setActiveNews,\r\n  setComment,\r\n} = slice.actions\r\n\r\n\r\nexport const getNewsIdList = () => async (dispatch, _, api) => {\r\n  const res = await api.get(`/newstories.json`)\r\n  dispatch(setNewsIdList(res.data.slice(0, PAGE_SIZE)))\r\n}\r\n\r\nexport const getItem = (id, actionType, callback) => async (dispatch, _, api) => {\r\n  const res = await api.get(`/item/${id}.json`)\r\n  if (res && res.data) {\r\n    if (res.data.deleted) {\r\n      return\r\n    }\r\n    dispatch(slice.actions[actionType](res.data))\r\n    callback && callback(res.data)\r\n  }\r\n}\r\n\r\n\r\nexport default slice.reducer\r\n\r\n","export const mapTime = (timestamp) => {\n    const seconds = Math.floor(((new Date() - timestamp * 1000) / 1000))\n\n    let interval = Math.floor(seconds / 31536000)\n\n    if (interval > 1) {\n        return `${interval} years`\n    }\n    interval = Math.floor(seconds / 2592000)\n\n    if (interval > 1) {\n        return `${interval} months`\n    }\n    interval = Math.floor(seconds / 86400)\n\n    if (interval > 1) {\n        return `${interval} days`\n    }\n    interval = Math.floor(seconds / 3600)\n\n    if (interval > 1) {\n        return `${interval} hours`\n    }\n    interval = Math.floor(seconds / 60)\n\n    return `${interval} minutes`\n}","import React, { useEffect, useState } from 'react'\n\nimport { mapTime } from '../../utils/mapTime'\n\nexport const Time = ({ time, children }) => {\n  const [timeAgo, setTimeAgo] = useState(mapTime(time))\n\n  useEffect(() => {\n    const interval = setInterval(() => setTimeAgo(mapTime(time)), 1000 * 60)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  return (\n    <span>\n      {`${timeAgo}`}\n      {children}\n    </span>\n  )\n}\n","import React from 'react'\n\nimport styles from './NewsInfo.module.scss'\nimport { Time } from '../Time/Time'\n\nexport const NewsInfo = ({ score, by, time }) => {\n  return (\n    <p className={styles.newsInfo}>\n      <span>{`${score} point`}</span>\n      <span>{`by ${by}`}</span>\n      <Time time={time}> ago</Time>\n    </p>\n  )\n}\n","import React, { memo, useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { ListGroup } from 'react-bootstrap'\n\nimport { getItem } from '../../slice/newsSlice'\nimport { NewsInfo } from '../NewsInfo/NewsInfo'\nimport styles from './NewsItem.module.scss'\n\nexport const NewsItem = memo(({ id }) => {\n  const dispatch = useDispatch()\n  const [itemInfo, setItemInfo] = useState({})\n\n  useEffect(() => {\n    dispatch(getItem(id, `setNewsItem`, setItemInfo))\n  }, [])\n\n  return (\n    <>\n      {itemInfo.title && (\n        <ListGroup.Item key={id}>\n          <Link to={`/item/${id}`}>\n            <h3 className={styles.title}>{`${itemInfo.title}`}</h3>\n          </Link>\n          <NewsInfo {...itemInfo} />\n        </ListGroup.Item>\n      )}\n    </>\n  )\n})\n","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nexport const ButtonUpdate = ({ handleUpdate, children }) => {\n  return <Button onClick={handleUpdate}>{children}</Button>\n}\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport { getItem, getNewsIdList } from '../slice/newsSlice'\n\nexport const withUpdate = (Component) =>\n  withRouter((props) => {\n    const dispatch = useDispatch()\n    const { activeNews, newsIdList } = useSelector((state) => state.news)\n    const { itemId } = props.match.params\n\n    const [data, setData] = useState({})\n    const [update, setUpdate] = useState(true)\n    const [isHandleUpdate, setIsHandleUpdate] = useState(false)\n    const [alertMessage, setAlertMessage] = useState(null)\n\n    const [callback, setCallback] = useState(null)\n    const [action, setAction] = useState(null)\n\n    const thank = {\n      getNewsIdList: getNewsIdList,\n      getItem: getItem,\n    }\n\n    useEffect(() => {\n      if (update && callback) {\n        dispatch(thank[callback](itemId, action))\n        setUpdate(false)\n      }\n    }, [callback, update])\n\n    useEffect(() => {\n      const interval = setInterval(() => {\n        setUpdate(true)\n      }, 1000 * 60)\n      return () => clearInterval(interval)\n    }, [])\n\n    useEffect(() => {\n      if (activeNews.descendants !== data.descendants) {\n        setData(activeNews)\n        setAlertMessage(null)\n      } else if (isHandleUpdate) {\n        setAlertMessage(true)\n      }\n      setIsHandleUpdate(false)\n    }, [activeNews])\n\n    useEffect(() => {\n      if (newsIdList[0] !== data[0]) {\n        setData(newsIdList)\n        setAlertMessage(null)\n      } else if (isHandleUpdate) {\n        setAlertMessage(true)\n      }\n    }, [newsIdList])\n\n    useEffect(() => {\n      if (isHandleUpdate) {\n        const timeout = setTimeout(() => {\n          setAlertMessage(null)\n        }, 5000)\n        return () => clearTimeout(timeout)\n      }\n    }, [isHandleUpdate])\n\n    const handleUpdate = () => {\n      setIsHandleUpdate(true)\n      setUpdate(true)\n    }\n\n    return (\n      <Component\n        setAction={setAction}\n        setCallback={setCallback}\n        data={data}\n        handleUpdate={handleUpdate}\n        alertMessage={alertMessage}\n        {...props}\n      />\n    )\n  })\n","import React, { memo, useEffect } from 'react'\nimport { compose } from 'redux'\n\nimport { Container, ListGroup, Alert } from 'react-bootstrap'\nimport styled from 'styled-components'\n\nimport { NewsItem } from '../components/NewsItem/NewsItem'\nimport { ButtonUpdate } from '../components/ButtonUpdate/ButtonUpdate'\nimport { withUpdate } from '../hocs/withUpdate'\n\nconst Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n`\n\nconst HomePage = ({\n  setCallback,\n  data = [],\n  handleUpdate,\n  alertMessage = false,\n}) => {\n  useEffect(() => {\n    setCallback(`getNewsIdList`)\n  }, [])\n\n  return (\n    <Container>\n      <Header>\n        <h2>Hacker News</h2>\n        <ButtonUpdate handleUpdate={handleUpdate}>update news</ButtonUpdate>\n      </Header>\n      {alertMessage && (\n        <Alert variant={`primary`}>there is no latest news in the feed</Alert>\n      )}\n      <ListGroup>\n        {data[0] && data.map((item) => <NewsItem key={item} id={item} />)}\n      </ListGroup>\n    </Container>\n  )\n}\n\nexport default compose(withUpdate, memo)(HomePage)\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Card, Container, Button } from 'react-bootstrap'\n\nimport { getItem } from '../../slice/newsSlice'\nimport styles from './Comment.module.scss'\n\nexport const Comment = ({ id }) => {\n  const dispatch = useDispatch()\n  const [itemInfo, setItemInfo] = useState({})\n  const [showCommentsTree, setShowCommentsTree] = useState(false)\n\n  useEffect(() => {\n    dispatch(getItem(id, `setComment`, setItemInfo))\n  }, [])\n\n  const toggleShowInnerComments = () => {\n    setShowCommentsTree((prev) => !prev)\n  }\n\n  return (\n    <>\n      {itemInfo.text && (\n        <Card className={styles.card}>\n          <Container>\n            <Card.Title>{`${itemInfo.by}`}</Card.Title>\n            <Card.Body\n              className={styles.text}\n              dangerouslySetInnerHTML={{ __html: `${itemInfo.text}` }}\n            ></Card.Body>\n            {itemInfo.kids && (\n              <Button\n                onClick={toggleShowInnerComments}\n                className={styles.btn}\n                variant={!showCommentsTree ? `outline-dark` : `dark`}\n              >\n                {!showCommentsTree ? `Show more comments` : `Hide comments`}\n              </Button>\n            )}\n            {itemInfo.kids &&\n              showCommentsTree &&\n              itemInfo.kids.map((id) => <Comment id={id} key={id} />)}\n          </Container>\n        </Card>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Container } from 'react-bootstrap'\n\nimport { Comment } from '../Comment/Comment'\nimport styles from './Comments.module.scss'\n\nexport const Comments = ({ kids = [], descendants, children }) => {\n  return (\n    <section>\n      <Container className={styles.container}>\n        <h4>\n          Comments\n          <span className={styles.counter}>{`${descendants}`}</span>\n        </h4>\n        {children}\n      </Container>\n      {kids.map((id) => (\n        <Comment id={id} key={id} />\n      ))}\n    </section>\n  )\n}\n","import React, { memo, useEffect } from 'react'\nimport { Container, Alert, Button } from 'react-bootstrap'\nimport { compose } from 'redux'\nimport { Link } from 'react-router-dom'\n\nimport { NewsInfo } from '../components/NewsInfo/NewsInfo'\nimport { Comments } from '../components/Comments/Comments'\nimport { ButtonUpdate } from '../components/ButtonUpdate/ButtonUpdate'\nimport { withUpdate } from '../hocs/withUpdate'\n\nconst NewsPage = ({\n  setAction,\n  setCallback,\n  data = {},\n  handleUpdate,\n  alertMessage = false,\n}) => {\n  useEffect(() => {\n    setCallback(`getItem`)\n    setAction(`setActiveNews`)\n  }, [])\n\n  return (\n    <Container>\n      {data.title ? (\n        <>\n          <Link to={`/`}>\n            <Button variant=\"outline-primary\">Back to news list</Button>\n          </Link>\n          <a href={`${data.url}`} target=\"_blank\">\n            <h3>{`${data.title}`}</h3>\n          </a>\n          <NewsInfo {...data} />\n          {alertMessage && (\n            <Alert variant={`primary`}>\n              there are no latest comments in the feed\n            </Alert>\n          )}\n          <Comments {...data}>\n            <ButtonUpdate handleUpdate={handleUpdate}>\n              update comments\n            </ButtonUpdate>\n          </Comments>\n        </>\n      ) : (\n        <div>load</div>\n      )}\n    </Container>\n  )\n}\n\nexport default compose(withUpdate, memo)(NewsPage)\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport HomePage from './pages/HomePage'\nimport NewsPage from './pages/NewsPage'\n\n\nconst App = () => {\n  return (\n    <main style={{\n      padding: `10px`\n    }}>\n      <Switch>\n        <Route path={`/`} exact render={() => <HomePage />}></Route>\n        <Route path={`/item/:itemId`} exact render={() => <NewsPage />}></Route>\n      </Switch>\n    </main >\n  )\n}\n\n\nexport default App","import { createSlice } from '@reduxjs/toolkit'\r\n\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n  error: null,\r\n}\r\n\r\n\r\nconst slice = createSlice({\r\n  name: `app`,\r\n  initialState,\r\n  reducers: {\r\n    setInitialized(state, action) {\r\n      state.initialized = action.payload\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload\r\n    },\r\n  }\r\n})\r\n\r\n\r\nexport const {\r\n  setInitialized,\r\n  setError,\r\n} = slice.actions\r\n\r\nexport default slice.reducer\r\n\r\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport appReducer from './slice/appSlice'\r\nimport newsReducer from './slice/newsSlice'\r\nimport createAPI from './api'\r\n\r\n\r\nconst api = createAPI((...args) => store.dispatch(...args))\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    app: appReducer,\r\n    news: newsReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) => (\r\n    getDefaultMiddleware({\r\n      thunk: {\r\n        extraArgument: api,\r\n      },\r\n      // serializableCheck: false,\r\n    })\r\n  )\r\n})\r\n\r\n\r\nexport default store","import * as axios from 'axios'\r\n\r\nimport { setError } from './slice/appSlice'\r\n\r\n\r\nconst createAPI = (dispatch) => {\r\n  const api = axios.create({\r\n    baseURL: `https://hacker-news.firebaseio.com/v0/`,\r\n    credentials: true,\r\n    origin: 'http://localhost:3000',\r\n  })\r\n\r\n  const onSuccess = (response) => response\r\n\r\n  const onFail = (err) => {\r\n    dispatch(setError(err.statusText))\r\n    // throw new Error(err.statusText)\r\n  }\r\n\r\n  api.interceptors.response.use(onSuccess, onFail)\r\n\r\n  return api\r\n}\r\n\r\n\r\nexport default createAPI","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n// HashRouter для gh pages\nimport { HashRouter, BrowserRouter } from 'react-router-dom'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport './index.scss'\nimport App from './App'\nimport store from './store'\n\nReactDOM.render(\n  // <BrowserRouter>\n  <HashRouter basename={`https://KirilovVladislav.github.io/test-avito`}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}